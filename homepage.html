<html lang="en">

<head>
  
  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>DOLLAR SURVEY</title>

  <link rel="stylesheet" href="homepage-style.css" />

  <style>

  </style>
<a href="balance.html" class="referral-banner">
  invite your friends to increase your earnings!
</a>
</head>

<body>
    <div class="user-info">
  <div id="user-email">User: ...</div>
  <div id="user-balance">Balance: $0.00</div>
</div>

    <div class="hamburger" onclick="toggleMenu()">
  <span></span>
  <span></span>
  <span></span>
</div>


  <header>
    <div class="menu-container">
  
  <div id="menu-dropdown" class="menu-dropdown">
    <a href="profile.html">profile</a>
    <a href="balance.html">Refer</a>
    <a href="withdraw.html">Withdraw</a>
    <a href="about.html">About</a>
    <a href="login.html">Logout</a>
  </div>
</div>


    <div id="title"><h4>DOLLAR SURVEY</h4></div>
    <div class="logo-container">
  <img src="images/a6ee2559-b2a4-46be-a0ca-e71a28189c82.png" alt="Dollar Survey Logo" class="logo-image" />
</div>

    
    <div id="subtitle"><h2>Welcome to Dollar Survey</h2></div>


    </div>
    

  </header>
  <div class="referral-section">
  <span id="referral-link">https://dollarsurveys.netlify.app</span>
  <button onclick="shareReferral()">Share Link</button>
  
</div>

</div>

<script>
function shareReferral() {
  const referralUrl = document.getElementById('referral-link').textContent;

  if (navigator.share) {
    navigator.share({
      title: 'Join Dollar Survey',
      text: 'Sign up using my referral link and earn money from surveys:',
      url: referralUrl
    }).catch((err) => {
      console.error('Share failed:', err);
      fallbackCopy(referralUrl);
    });
  } else {
    fallbackCopy(referralUrl);
  }
}

function fallbackCopy(text) {
  navigator.clipboard.writeText(text).then(() => {
    alert("Referral link copied to clipboard!");
  }).catch(err => {
    console.error('Clipboard copy failed:', err);
    alert("Failed to copy link. Please copy it manually.");
  });
}

  function toggleMenu() {
    var menu = document.getElementById("menu-dropdown");
    menu.classList.toggle("show");
  }
</script>
<div>
  <p class="survey-question">1. What do you think about Dollar Survey?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">2. How did you hear about Dollar Survey?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">3. Would you recommend Dollar Survey to a friend?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">4. How often do you take surveys online?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">5. What motivates you to complete a survey?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">6. Do you prefer short or long surveys?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">7. What time of day do you usually take surveys?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">8. How do you rate your experience with our platform?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">9. What feature would you like to see next?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">10. Do you find the site easy to navigate?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">11. How satisfied are you with the rewards?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">12. What device do you mostly use for surveys?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">13. Have you used any other survey platforms before?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">14. What is your favorite feature on Dollar Survey?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">15. What kind of surveys do you enjoy most?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">16. How would you describe Dollar Survey in one word?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">17. How much time do you spend on Dollar Survey daily?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">18. Do you experience any technical issues?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">19. How would you rate our customer support?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">20. Is the referral system clear and easy to use?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">21. Do you trust Dollar Survey with your data?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">22. Would you like to see a mobile app version?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">23. What would make you use Dollar Survey more often?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">24. Do you enjoy the look and feel of the website?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">25. How likely are you to cash out your earnings?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">26. Have you ever had issues logging in?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">27. What payment method do you prefer for withdrawals?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">28. How fast do you expect withdrawals to be processed?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">29. Have you ever recommended Dollar Survey to someone?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">30. Do you think the rewards match the effort?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">31. Have you completed today's survey?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">32. What is your favorite way to earn online?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">33. What topics do you enjoy answering surveys about?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">34. What country are you taking this survey from?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">35. How old are you?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">36. Do you prefer image-based questions or text?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">37. Do you prefer tapping or typing for answers?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">38. Would you like more game-like features?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">39. What do you do when you're not online?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">40. Do you think surveys should be shorter?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">41. Do you find the color theme appealing?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">42. Have you ever referred a friend?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">43. How many friends have you referred?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">44. What do your friends think about Dollar Survey?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">45. How would you improve this platform?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">46. Do you like answering daily questions?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">47. How fast is the site on your device?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">48. Have you tried our anonymous mode?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">49. Do you have suggestions for more features?</p>
<input type="text" class="survey-answer" placeholder="required" />

<p class="survey-question">50. Would you like weekly bonuses for streaks?</p>
<input type="text" class="survey-answer" placeholder="required" />
<br><br>
  <button onclick="submitFullSurvey()">Submit Survey</button>
</div>


<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
  import { getFirestore, collection, addDoc, doc, setDoc, getDoc, updateDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDnq2364tMuRPbrjjHmUfFUTjWZC2BmIS4",
    authDomain: "dollar-survey-60fe7.firebaseapp.com",
    projectId: "dollar-survey-60fe7",
    storageBucket: "dollar-survey-60fe7.appspot.com",
    messagingSenderId: "293471697208",
    appId: "1:293471697208:web:664863f09e830e420c69cd"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const auth = getAuth(app);

  let userCountry = "Unknown";

  fetch("https://ipapi.co/json")
    .then(res => res.json())
    .then(data => {
      userCountry = data.country_name || "Unknown";
    });

  // Show user info live
  onAuthStateChanged(auth, async (user) => {
    if (user) {
      document.getElementById("user-email").textContent = `User: ${user.email || 'Anonymous'}`;
      const userRef = doc(db, "users", user.uid);
      const userSnap = await getDoc(userRef);
      const balance = userSnap.exists() ? userSnap.data().balance || 0 : 0;
      document.getElementById("user-balance").textContent = `Balance: $${balance.toFixed(2)}`;
    }
  });

  // Survey submission
  window.submitFullSurvey = async function () {
    const answerEls = document.querySelectorAll(".survey-answer");
    const questionEls = document.querySelectorAll(".survey-question");

    const allAnswered = Array.from(answerEls).every(el => el.value.trim() !== "");
    if (!allAnswered) {
      alert("Please answer all questions before submitting.");
      return;
    }

    const responses = {};
    questionEls.forEach((qEl, idx) => {
      responses[qEl.innerText] = answerEls[idx].value.trim();
    });

    const user = auth.currentUser;
    const uid = user?.uid || "anonymous";
    const email = user?.email || "anonymous@user.com";

    try {
      // Save survey response
      await addDoc(collection(db, "submittedSurveys"), {
        userId: uid,
        email: email,
        responses: responses,
        country: userCountry,
        timestamp: serverTimestamp()
      });

      // Update balance
      const userRef = doc(db, "users", uid);
      const userSnap = await getDoc(userRef);
      const currentBalance = userSnap.exists() ? userSnap.data().balance || 0 : 0;
      const newBalance = currentBalance + 0.5;

      await setDoc(userRef, { balance: newBalance }, { merge: true });

      document.getElementById("user-balance").textContent = `Balance: $${newBalance.toFixed(2)}`;

      alert("Survey submitted. Balance updated!");
      answerEls.forEach(el => el.value = "");

    } catch (err) {
      console.error("Error:", err);
      alert("Survey submission failed.");
    }
  };
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1947981398780941"
     crossorigin="anonymous"></script>

</body>

</html>

